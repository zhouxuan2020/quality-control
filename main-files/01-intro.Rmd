---
output:
  word_document: default
  html_document: default
---
# Introduction {#intro}

You can label chapter and section titles using `{#label}` after them, e.g., we can reference Chapter \@ref(intro). If you do not manually label them, there will be automatic labels anyway, e.g., Chapter \@ref(methods).

Figures and tables with captions will be placed in `figure` and `table` environments, respectively.

## Figures
```{r nice-fig, fig.cap='Here is a nice figure!', out.width='80%', fig.asp=.75, fig.align='center'}
par(mar = c(4, 4, .1, .1))
plot(pressure, type = 'b', pch = 19)
```

Putting two figures together.
```{r two-figs, fig.cap='two figures together', fig.show='hold', out.width='50%', fig.asp=0.75, fig.align='left'}

par(mar = c(4, 4, 0.1, 0.1))
plot(pressure, pch = 19, type = "b")
plot(cars, pch = 19)
```

Embed images in a document.
```{r embeded-figs, fig.cap='embedded images', fig.show='hold', out.width='50%', fig.asp=0.75, fig.align='left'}
knitr::include_graphics(rep("fig-to-insert/insert_1.png", 2))
knitr::include_graphics(c("fig-to-insert/insert_2.png", "fig-to-insert/insert_1.png"))
```

Reference a figure by its code chunk label with the `fig:` prefix, e.g., see Figure \@ref(fig:nice-fig). Similarly, you can reference tables generated from `knitr::kable()`, e.g., see Table \@ref(tab:nice-tab).

## Tables
```{r nice-tab, tidy=FALSE}
knitr::kable(
  head(iris, 20), caption = 'Here is a nice table!',
  booktabs = TRUE
)
```

Examples below are based on <https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html> 

```{r}
library(kableExtra)
dt <- mtcars[1:5, 1:6]
#row.names(dt)=NULL
# basic table
kbl(dt)
# bootstrap theme
dt %>%
  kbl(caption = "This is a basic table") %>%
  kable_styling()
# alternative themes
dt %>%
  kbl() %>%
  kable_paper("hover", full_width = F)

dt %>%
  kbl() %>%
  kable_classic_2(full_width = F)

dt %>%
  kbl() %>%
  kable_minimal()

dt %>%
  kbl() %>%
  kable_material(c("striped", "hover"))

kbl(dt) %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed"))


```

Column & row specifications.

```{r}
# data
text_tbl <- data.frame(
  Items = c("Item 1", "Item 2", "Item 3"),
  Features = c(
    "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin vehicula tempor ex. Morbi malesuada sagittis turpis, at venenatis nisl luctus a. ",
    "In eu urna at magna luctus rhoncus quis in nisl. Fusce in velit varius, posuere risus et, cursus augue. Duis eleifend aliquam ante, a aliquet ex tincidunt in. ", 
    "Vivamus venenatis egestas eros ut tempus. Vivamus id est nisi. Aliquam molestie erat et sollicitudin venenatis. In ac lacus at velit scelerisque mattis. "
  )
)

# as it is
kbl(text_tbl) %>%
  kable_paper(full_width = F)

# column spec
kbl(text_tbl) %>%
  kable_paper(full_width = F) %>%
  column_spec(1, bold = T, border_right = T) %>%
  column_spec(2, width = "30em", background = "yellow")

# Row spec
kbl(dt) %>%
  kable_paper("striped", full_width = F) %>%
  column_spec(5:7, bold = T) %>%
  row_spec(3:5, bold = T, color = "white", background = "#D7261E")

# conditional cell specification
cs_dt <- mtcars[1:10, 1:2]
cs_dt$car = row.names(cs_dt)
row.names(cs_dt) <- NULL
cs_dt$mpg = cell_spec(cs_dt$mpg, color = ifelse(cs_dt$mpg > 20, "red", "blue"))
cs_dt$cyl = cell_spec(
  cs_dt$cyl, color = "white", align = "c", angle = 45, 
  background = factor(cs_dt$cyl, c(4, 6, 8), c("#666666", "#999999", "#BBBBBB")))
cs_dt <- cs_dt[c("car", "mpg", "cyl")]

kbl(cs_dt, escape = F) %>%
  kable_paper("striped", full_width = F)

```

Grouped columns/columns
```{r}
# group columns
kbl(dt) %>%
  kable_paper() %>%
  add_header_above(c(" ", "Group 1" = 2, "Group 2" = 2, "Group 3" = 2)) %>%
  add_header_above(c(" ", "Group 4" = 4, "Group 5" = 2)) %>%
  add_header_above(c(" ", "Group 6" = 6))

# group rows
kbl(mtcars[1:10, 1:6], caption = "Group Rows") %>%
  kable_paper("striped", full_width = F) %>%
  pack_rows("Group 1", 4, 7) %>%
  pack_rows("Group 2", 8, 10)

# same thing in another way
kbl(mtcars[1:10, 1:6], caption = "Group Rows") %>%
  kable_paper("striped", full_width = F) %>%
  pack_rows(index = c(" " = 3, "Group 1" = 4, "Group 2" = 3))

# additional formating 
kbl(dt) %>%
  kable_paper("striped", full_width = F) %>%
  pack_rows("Group 1", 3, 5, label_row_css = "background-color: #666; color: #fff;")


```

Footnotes

```{r}
kbl(dt, align = "c") %>%
  kable_styling(full_width = F, font_size=24) %>%
  footnote(general = "Here is a general comments of the table. ",
           number = c("Footnote 1; ", "Footnote 2; "),
           alphabet = c("Footnote A; ", "Footnote B; "),
           symbol = c("Footnote Symbol 1; ", "Footnote Symbol 2"), footnote_as_chunk = T, fixed_small_size=T)
```


You can write citations, too. For example, we are using the **bookdown** package [@R-bookdown] in this sample book, which was built on top of R Markdown and **knitr** [@xie2015].

This is an example of paper citation [@Mahasen3151].
